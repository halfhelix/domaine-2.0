<script>
  import Lenis from '@studio-freight/lenis'
  export let lenis;

  document.addEventListener("astro:page-load", () => {

    lenis = new Lenis()

    function raf(time) {
      lenis.raf(time)
      requestAnimationFrame(raf)
    } 
    requestAnimationFrame(raf)

  })

  document.addEventListener("astro:before-preparation", () => {
    lenis.stop();
  })

  document.addEventListener("astro:after-swap", () => {
    lenis.start();
  })

</script>