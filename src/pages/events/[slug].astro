---
import Layout from '../../layouts/Layout.astro';
import { getEvents } from '../../utils/sanityClient';
import SectionBlock from '../../components/sections/SectionBlock.astro';

interface Props {
	data: any;
}

export async function getStaticPaths() {

  const events = await getEvents();

  return events.map((event) => {
    return {
      params: { slug: event.slug.current },
      props: { data: event }
    }
  })
}

const { slug } = Astro.params;
const { data } = Astro.props;
---
<Layout title={data.title}>
  <!-- <h1>{data.title}</h1>
  <p>{data.location}</p> -->
  {data.content.map((block) => {
    return <SectionBlock block={block} />
  })}
</Layout>