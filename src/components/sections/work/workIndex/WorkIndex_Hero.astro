---
import { getProjectCategories } from "../../../../utils/sanityClient";
import SidebarLinks from "../../../atoms/SidebarLinks.astro";

const categories = await getProjectCategories();

const { category, heading } = Astro.props;
---
<section class="work_hero">
  <SidebarLinks links={categories} activeLink={category} slugRoot="/work" rootLabel="All Work" />
  <h1 
    class="section-title"
    data-animate-viewport="true"
    data-animate-style="fade"
  >
    {category && category.workPageHeading ? category.workPageHeading : heading}
  </h1>
</section>

<style>
  .work_hero {
    display: flex;
    flex-direction: row;
    justify-content: flex-start;
    align-items: flex-start;
    gap: var(--space-3xl);
    padding: var(--header-height) var(--page-margin) var(--space-xl);
  }

  .section-title {
    max-width: 20ch;
  }

  @media screen and (max-width: 960px) {
    .work_hero {
      flex-direction: column-reverse;
      gap: var(--space-md);
    }
  }
</style>